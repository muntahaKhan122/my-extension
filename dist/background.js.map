{"version":3,"sources":["background.js"],"names":["copyContentMenuItem","showContent","chrome","runtime","onInstalled","addListener","contextMenus","create","onClicked","callData","tabs","menuItemId","saveDataToStorage","selectionText","openModal","text","storage","local","get","result","notes","newText","push","set","console","log","tab","scripting","executeScript","target","tabId","id","files"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,mBAAmB,GAAE;AACvB,WAAS,uBADc;AAEpB,cAAY,CAAC,WAAD,CAFQ;AAGvB,QAAK;AAHkB,CAAzB;AAKA,IAAIC,WAAW,GAAE;AAChB,WAAS,0BADO;AAEhB,cAAY,CAAC,KAAD,CAFI;AAGhB,QAAK;AAHW,CAAjB;AAMAC,MAAM,CAACC,OAAP,CAAeC,WAAf,CAA2BC,WAA3B,CAAuC,YAAW;AACjDH,EAAAA,MAAM,CAACI,YAAP,CAAoBC,MAApB,CAA2BP,mBAA3B;AACAE,EAAAA,MAAM,CAACI,YAAP,CAAoBC,MAApB,CAA2BN,WAA3B;AACA,CAHD;AAIAC,MAAM,CAACI,YAAP,CAAoBE,SAApB,CAA8BH,WAA9B,CAA0C,UAASI,QAAT,EAAkBC,IAAlB,EAAuB;AAEhE,MAAGD,QAAQ,CAACE,UAAT,IAAuB,UAA1B,EACA;AAAIC,IAAAA,iBAAiB,CAACH,QAAQ,CAACI,aAAV,CAAjB;AACH;;AACD,MAAGJ,QAAQ,CAACE,UAAT,IAAuB,aAA1B,EACA;AACCG,IAAAA,SAAS,CAACJ,IAAD,CAAT;AACA;AACD,CATD;;AAYA,SAASE,iBAAT,CAA2BG,IAA3B,EAAgC;AAChCb,EAAAA,MAAM,CAACc,OAAP,CAAeC,KAAf,CAAqBC,GAArB,CAAyB,OAAzB,EAAkC,UAASC,MAAT,EAAiB;AAClD,QAAIC,KAAK,GAACD,MAAM,CAACC,KAAjB;AACA,QAAIC,OAAO,GAACN,IAAZ;;AACC,QAAGK,KAAK,IAAE,IAAV,EACE;AACCA,MAAAA,KAAK,CAACE,IAAN,CAAWD,OAAX;AACAnB,MAAAA,MAAM,CAACc,OAAP,CAAeC,KAAf,CAAqBM,GAArB,CAAyB;AAAC,iBAASH;AAAV,OAAzB,EAA2C,YAAW;AACxCI,QAAAA,OAAO,CAACC,GAAR,CAAY,QAAZ,EAAqBL,KAArB;AACf,OAFC;AAIA,KAPH,MAQM;AACL,UAAIC,OAAO,GAAC,CAACN,IAAD,CAAZ;AACAb,MAAAA,MAAM,CAACc,OAAP,CAAeC,KAAf,CAAqBM,GAArB,CAAyB;AAAC,iBAASF;AAAV,OAAzB,EAA6C,YAAW;AAC7CG,QAAAA,OAAO,CAACC,GAAR,CAAY,YAAZ,EAAyBJ,OAAzB;AACV,OAFD;AAGE;AACD,GAjBJ;AAoBC;;AACD,SAASP,SAAT,CAAmBY,GAAnB,EAAuB;AAEtBxB,EAAAA,MAAM,CAACyB,SAAP,CAAiBC,aAAjB,CAA+B;AAC9BC,IAAAA,MAAM,EAAE;AAAEC,MAAAA,KAAK,EAAEJ,GAAG,CAACK;AAAb,KADsB;AAE9BC,IAAAA,KAAK,EAAE,CAAC,mBAAD;AAFuB,GAA/B;AAIA","file":"background.js","sourceRoot":"..\\public\\js","sourcesContent":["var copyContentMenuItem ={\r\n\t \"title\": \"Copy this in notebook\",\r\n     \"contexts\": [\"selection\"],\r\n\t \"id\":\"copyText\"\r\n};\r\nvar showContent ={\r\n\t\"title\": \"Show Highlighted Content\",\r\n\t\"contexts\": [\"all\"],\r\n\t\"id\":\"showContent\"\r\n};\r\n\r\nchrome.runtime.onInstalled.addListener(function() {\r\n\tchrome.contextMenus.create(copyContentMenuItem);\r\n\tchrome.contextMenus.create(showContent);\r\n});\r\nchrome.contextMenus.onClicked.addListener(function(callData,tabs){\r\n\r\n\tif(callData.menuItemId == \"copyText\")\r\n\t{ \t\tsaveDataToStorage(callData.selectionText);\t\t\t  \r\n\t}\r\n\tif(callData.menuItemId == \"showContent\")\r\n\t{ \t\r\n\t\topenModal(tabs);\t\t\t  \r\n\t}\r\n}\r\n)\r\n\r\nfunction saveDataToStorage(text){\r\nchrome.storage.local.get('notes', function(result) {\r\n\tvar notes=result.notes;\r\n\tvar newText=text;\t\r\n\t\tif(notes!=null)\r\n\t\t  { \r\n\t\t\t  notes.push(newText);\r\n\t\t\t  chrome.storage.local.set({'notes': notes}, function() {\r\n                   console.log(\"concat\",notes);\t\t\r\n\t\t\t});\r\n\t  \r\n\t\t  }\r\n\t\t  else{\r\n\t\t\tvar newText=[text];\t\r\n\t\t\tchrome.storage.local.set({'notes': newText}, function() {\r\n\t\t            console.log(\"first time\",newText);\r\n\t\t\t});\r\n\t\t  }\r\n\t  });\r\n\r\n\r\n}\r\nfunction openModal(tab){\r\n\t\r\n\tchrome.scripting.executeScript({\r\n\t\ttarget: { tabId: tab.id },\r\n\t\tfiles: ['content-script.js']\r\n\t  });\r\n}"]}